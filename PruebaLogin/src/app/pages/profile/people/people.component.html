<div class="d-flex flex-column bg-secondary-subtle fondo min-vh-100">
    <div class="bg-white d-flex justify-content-between border rounded-bottom-3 px-4 py-3">
        <div class="d-flex gap-3 align-items-center">
            <i class="fa-solid fa-user fa-2x"></i>
            <h4 class="m-0"> <strong>{{user.username}}</strong>, {{user.city}}</h4>
        </div>
        <div class="align-content-center position-relative">
            <i class="fa-solid fa-bell px-5"
               (mouseenter)="toggleNotification()" (mouseleave)="toggleNotification()"
               style="cursor: pointer;"></i>
            <div [hidden]="!showNotification"
                 class="position-absolute bg-white border rounded p-3 mt-1"
                 style="left: -180px;">
                <p class="m-0 ">Tienes nuevas notificaciones</p>
            </div>
            <button type="submit"
                    class="btn-close btn-close"
                    [routerLink]="['/login']">
            </button>
        </div>
    </div>
    <div class="d-flex container-fluid">
        <nav class="bg-white border rounded-3 m-3 h-auto w-auto align-self-start">
            <ul class="navbar-nav">
                <li class="nav-item d-flex align-items-center px-5 py-1 rounded-top w-auto" routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-grip w-25"></i>
                    <a class="nav-link w-50">Dashboard</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/people" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-user-group w-25"></i>
                    <a class="nav-link w-50">People</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/projects" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-clipboard-list w-25"></i>
                    <a class="nav-link w-50">Projects</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/calendar" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-calendar-day w-25"></i>
                    <a class="nav-link w-50">Calendar</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/training" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-chalkboard w-25"></i>
                    <a class="nav-link w-50">Training</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/timesheet" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-hourglass w-25"></i>
                    <a class="nav-link w-50">Timesheet</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/reports" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-comments w-25"></i>
                    <a class="nav-link w-50">Reports</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1" routerLink="/administration" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-city w-25"></i>
                    <a class="nav-link w-50">Administration</a>
                </li>
                <li class="nav-item d-flex align-items-center px-5 py-1 rounded-bottom" routerLink="/help" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                    <i class="fa-solid fa-question w-25"></i>
                    <a class="nav-link w-50">Help</a>
                </li>
            </ul>
        </nav>
        <div class="d-flex flex-grow-1 w-100 bg-white border rounded-3 m-3 p-3 gap-3 h-auto align-self-start">
            <table class="table table-hover align-middle">
                <thead>
                <tr>
                    <th scope="col"></th>
                    <th scope="col">Username</th>
                    <th scope="col">Birthday</th>
                    <th scope="col">City</th>
                    <th scope="col"></th>
                </tr>
                </thead>
                <tbody class="table-group-divider">
                    @for (other of users; track other.id) {
                        @if (other.username != user.username) {
                            <tr>
                                <th scope="row" class="p-4 bg-light">{{other.id}}</th>
                                <td class="bg-light">{{ other.username }}</td>
                                <td class="bg-light">{{ other.birthday }}</td>
                                <td class="bg-light">{{ other.city }}</td>
                                <td class="p-4 bg-light">
                                    @if (user.admin) {
                                        <div class="d-flex flex-wrap justify-content-evenly">
                                            <button type="submit"
                                                    class="btn btn-info d-flex justify-content-center align-items-center h-auto w-auto"
                                                    (click)="update(other.id)">
                                                <i class="fa-solid fa-pen text-white"></i>
                                            </button>
                                            <button type="submit"
                                                    class="btn btn-danger d-flex justify-content-center align-items-center h-auto w-auto"
                                                    (click)="delete(other.id)">
                                                <i class="fa-solid fa-trash-can"></i>
                                            </button>
                                        </div>
                                    }
                                </td>
                            </tr>
                        } @else {
                            <tr class="table-active">
                                <th scope="row" class="p-4 bg-light">{{other.id}}</th>
                                <td class="bg-light">{{ other.username }}</td>
                                <td class="bg-light">{{ other.birthday }}</td>
                                <td class="bg-light">{{ other.city }}</td>
                                <td class="p-4 bg-light">
                                    <div class="d-flex flex-wrap justify-content-evenly">
                                        <button type="submit"
                                                class="btn btn-info d-flex justify-content-center align-items-center h-auto w-auto"
                                                (click)="update(other.id)">
                                            <i class="fa-solid fa-pen text-white"></i>
                                        </button>
                                        <button type="submit"
                                                class="btn btn-danger d-flex justify-content-center align-items-center h-auto w-auto"
                                                (click)="delete(other.id)">
                                            <i class="fa-solid fa-trash-can"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
